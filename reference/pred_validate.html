<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Validate an existing prediction model, to calculate the predictive
performance against a new (validation) dataset."><title>Validate an existing prediction — pred_validate • predRupdate</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate an existing prediction — pred_validate"><meta property="og:description" content="Validate an existing prediction model, to calculate the predictive
performance against a new (validation) dataset."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">predRupdate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/predRupdate.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/predRupdate_technical.html">Technical Background to predRupdate</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/GlenMartin31/predRupdate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Validate an existing prediction</h1>
      <small class="dont-index">Source: <a href="https://github.com/GlenMartin31/predRupdate/blob/HEAD/R/pred_validate.R" class="external-link"><code>R/pred_validate.R</code></a></small>
      <div class="d-none name"><code>pred_validate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Validate an existing prediction model, to calculate the predictive
performance against a new (validation) dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pred_validate</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  binary_outcome <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  survival_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  event_indicator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time_horizon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  CalPlot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>an object of class "predinfo"</p></dd>


<dt>newdata</dt>
<dd><p>data.frame upon which the prediction model should be validated</p></dd>


<dt>binary_outcome</dt>
<dd><p>Character variable giving the name of the column in
<code>newdata</code> that represents the observed outcomes. Only relevant for
<code>model_type</code>="logistic"; leave as <code>NULL</code> otherwise.</p></dd>


<dt>survival_time</dt>
<dd><p>Character variable giving the name of the column in
<code>newdata</code> that represents the observed survival times. Only relevant
for <code>model_type</code>="survival"; leave as <code>NULL</code> otherwise.</p></dd>


<dt>event_indicator</dt>
<dd><p>Character variable giving the name of the column in
<code>newdata</code> that represents the observed survival indicator (1 for
event, 0 for censoring). Only relevant for <code>model_type</code>="survival";
leave as <code>NULL</code> otherwise.</p></dd>


<dt>time_horizon</dt>
<dd><p>for survival models, an integer giving the time horizon
(post baseline/time of prediction) at which a prediction is required.
Currently, this must match a time in x$baselinehazard.</p></dd>


<dt>CalPlot</dt>
<dd><p>indicate if a flexible calibration plot should be produced
(TRUE) or not (FALSE)</p></dd>


<dt>...</dt>
<dd><p>further plotting arguments for the calibration plot. See Details
below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of performance metrics, estimated by applying the existing
prediction model to the newdata.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function takes an existing prediction model formatted according
to <code><a href="pred_input_info.html">pred_input_info</a></code>, and calculates measures of predictive
performance on new data (e.g., within an external validation study). The
information about the existing prediction model should first be inputted by
calling <code><a href="pred_input_info.html">pred_input_info</a></code>, before passing the resulting object
to <code>pred_validate</code>.</p>
<p><code>newdata</code> should be a data.frame, where each row should be an
observation (e.g. patient) and each variable/column should be a predictor
variable. The predictor variables need to include (as a minimum) all of the
predictor variables that are included in the existing prediction model
(i.e., each of the variable names supplied to
<code><a href="pred_input_info.html">pred_input_info</a></code>, through the <code>model_info</code> parameter,
must match the name of a variables in <code>newdata</code>).</p>
<p>Any factor variables within <code>newdata</code> must be converted to dummy (0/1)
variables before calling this function. <code><a href="dummy_vars.html">dummy_vars</a></code> can help
with this.</p>
<p><code>binary_outcome</code>, <code>survival_time</code> and <code>event_indicator</code> are
used to specify the outcome variable(s) within <code>newdata</code> (use
<code>binary_outcome</code> if <code>x$model_type</code> = "logistic", or use
<code>survival_time</code> and <code>event_indicator</code> if <code>x$model_type</code> =
"survival").</p>
<p>In the case of validating a logistic regression model, this function
assesses the predictive performance of the predicted risks against an
observed binary outcome. Various metrics of calibration (agreement between
the observed risk and the predicted risks, across the full risk range) and
discrimination (ability of the model to distinguish between those who
develop the outcome and those who do not) are calculated. For calibration,
a flexible calibration plot is produced. Calibration-in-the-large (CITL)
and calibration slopes are also estimated. CITL is estimated by fitting a
logistic regression model to the observed binary outcomes, with the linear
predictor of the model as an offset. For calibration slope, a logistic
regression model is fit to the observed binary outcome with the linear
predictor from the model as the only covariate. For discrimination, the
function estimates the area under the receiver operating characteristic
curve (AUC). Various other metrics are also calculated to assess overall
accuracy (Brier score, Cox-Snell R2). Specify parameter <code>CalPlot</code> to
indicate whether a calibration plot should be produced (TRUE), or not
(FALSE). Can also specify parameters <code>xlab</code>, <code>ylab</code>,
<code>xlim</code>,and <code>ylim</code> to change plotting characteristics for the
calibration plot.</p>
<p>In the case of validating a survival prediction model, this function
assesses the predictive performance of the predicted event probabilities
(at a fixed time horizon) against an observed time-to-event outcome.
Various metrics of calibration and discrimination are calculated. For
calibration, a flexible calibration plot, observed-to-expected ratio and
calibration slope are produced (all at the specified <code>time_horizon</code>).
For discrimination, Harrell's C-statistic is calculated. Specify parameter
<code>CalPlot</code> to indicate whether a calibration plot should be produced
(TRUE), or not (FALSE). Can also specify parameters <code>xlab</code>,
<code>ylab</code>, <code>xlim</code>,and <code>ylim</code> to change plotting characteristics
for the calibration plot.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="pred_input_info.html">pred_input_info</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Example 1 - logistic regression existing model, with outcome specified; uses</span></span></span>
<span class="r-in"><span><span class="co">#            an example dataset within the package</span></span></span>
<span class="r-in"><span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="pred_input_info.html">pred_input_info</a></span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"logistic"</span>,</span></span>
<span class="r-in"><span>                          model_info <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">Existing_logistic_models</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">pred_validate</span><span class="op">(</span>x <span class="op">=</span> <span class="va">model1</span>,</span></span>
<span class="r-in"><span>             newdata <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">ValidationData</span>,</span></span>
<span class="r-in"><span>             binary_outcome <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="pred_validate-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large   0.6303   0.0251                        0.5811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope          0.4665   0.0694                        0.3305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large                        0.6796</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope                               0.6026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the calibration plot, if produced. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discrimination Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC   0.5468   0.0068                        0.5334</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC                        0.5602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Performance Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cox-Snell R-squared: -0.0278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nagelkerke R-squared: -0.0621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Brier Score: 0.0814</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the histogram of predicted risks. </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Example 2 - multiple existing model, with outcome specified; uses</span></span></span>
<span class="r-in"><span><span class="co">#            an example dataset within the package</span></span></span>
<span class="r-in"><span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="pred_input_info.html">pred_input_info</a></span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"logistic"</span>,</span></span>
<span class="r-in"><span>                          model_info <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">Existing_logistic_models</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">pred_validate</span><span class="op">(</span>x <span class="op">=</span> <span class="va">model2</span>,</span></span>
<span class="r-in"><span>             newdata <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">ValidationData</span>,</span></span>
<span class="r-in"><span>             binary_outcome <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="pred_validate-2.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="pred_validate-3.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Model_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large   0.6303   0.0251                        0.5811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope          0.4665   0.0694                        0.3305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large                        0.6796</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope                               0.6026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the calibration plot, if produced. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discrimination Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC   0.5468   0.0068                        0.5334</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC                        0.5602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Performance Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cox-Snell R-squared: -0.0278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nagelkerke R-squared: -0.0621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Brier Score: 0.0814</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the histogram of predicted risks. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Model_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large  -0.3584   0.0251                       -0.4076</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope          0.6212   0.0767                        0.4709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large                       -0.3092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope                               0.7715</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the calibration plot, if produced. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discrimination Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC   0.5606   0.0071                        0.5467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC                        0.5744</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Performance Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cox-Snell R-squared: -0.0093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nagelkerke R-squared: -0.0208</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Brier Score: 0.0813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the histogram of predicted risks. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Model_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large   0.8246   0.0250                        0.7755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope          0.5084   0.1239                        0.2655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration-in-the-large                        0.8736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope                               0.7512</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the calibration plot, if produced. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discrimination Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC   0.5182   0.0051                        0.5082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUC                        0.5281</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Performance Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cox-Snell R-squared: -0.0445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nagelkerke R-squared: -0.0993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Brier Score: 0.0822</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the histogram of predicted risks. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Example 3 - survival model example; uses an example dataset within the</span></span></span>
<span class="r-in"><span><span class="co">#             package.</span></span></span>
<span class="r-in"><span><span class="va">model3</span> <span class="op">&lt;-</span> <span class="fu"><a href="pred_input_info.html">pred_input_info</a></span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"survival"</span>,</span></span>
<span class="r-in"><span>                          model_info <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">Existing_TTE_models</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>                          baselinehazard <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">TTE_mod2_baseline</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">pred_validate</span><span class="op">(</span>x <span class="op">=</span> <span class="va">model3</span>,</span></span>
<span class="r-in"><span>             newdata <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">ValidationData</span>,</span></span>
<span class="r-in"><span>            survival_time <span class="op">=</span> <span class="st">"ETime"</span>,</span></span>
<span class="r-in"><span>            event_indicator <span class="op">=</span> <span class="st">"Status"</span>,</span></span>
<span class="r-in"><span>            time_horizon <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="pred_validate-4.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observed:Expected Ratio   1.1081   0.0092                        1.0882</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope         0.7462   0.0353                        0.6769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observed:Expected Ratio                        1.1283</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calibration Slope                              0.8155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the calibration plot, if produced. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discrimination Measures </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Estimate Std. Err Lower 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Harrell C   0.5571   0.0027                        0.5518</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Upper 95% Confidence Interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Harrell C                        0.5624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Also examine the histogram of predicted risks. </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Glen P. Martin, David Jenkins, Matthew Sperrin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

